---
const calUrl = import.meta.env.PUBLIC_CAL_URL || "https://cal.com/southlike";
---

<section id="contato" class="mx-auto max-w-7xl px-6 pb-28 pt-16 lg:px-8">
  <div class="mx-auto max-w-2xl text-center">
    <h2 class="font-heading text-3xl font-semibold tracking-tight sm:text-4xl">
      Solicite Sua Análise Estratégica Gratuita
    </h2>
    <p class="mt-4 text-neutral-300">Retorno garantido em até 2 horas úteis via WhatsApp</p>
  </div>
  <form
    method="post"
    action="/api/lead"
    class="mx-auto mt-10 w-full max-w-2xl space-y-6"
    onsubmit="posthog?.capture('lead_submitted', { source: 'contact_form' })"
  >
    <div class="grid grid-cols-1 gap-6 sm:grid-cols-2">
      <div>
        <label class="block text-sm text-neutral-300">Nome Completo*</label>
        <input
          required
          name="name"
          autocomplete="name"
          class="mt-2 w-full rounded-lg border border-neutral-800 bg-surface-900/60 px-3 py-2 text-sm text-neutral-100 placeholder-neutral-500 outline-none focus:border-brand-500/50 focus:ring-2 focus:ring-brand-500/40"
          placeholder="Seu nome"
        />
      </div>
      <div>
        <label class="block text-sm text-neutral-300">Empresa*</label>
        <input
          required
          name="company"
          class="mt-2 w-full rounded-lg border border-neutral-800 bg-surface-900/60 px-3 py-2 text-sm text-neutral-100 placeholder-neutral-500 outline-none focus:border-brand-500/50 focus:ring-2 focus:ring-brand-500/40"
          placeholder="Nome da empresa"
        />
      </div>
      <div>
        <label class="block text-sm text-neutral-300">WhatsApp (com DDD)*</label>
        <input
          required
          name="phone"
          autocomplete="tel"
          class="mt-2 w-full rounded-lg border border-neutral-800 bg-surface-900/60 px-3 py-2 text-sm text-neutral-100 placeholder-neutral-500 outline-none focus:border-brand-500/50 focus:ring-2 focus:ring-brand-500/40"
          placeholder="(51) 99999-9999"
        />
      </div>
      <div>
        <label class="block text-sm text-neutral-300">Volume mensal de leads*</label>
        <select
          required
          name="leadVolume"
          class="mt-2 w-full rounded-lg border border-neutral-800 bg-surface-900/60 px-3 py-2 text-sm text-neutral-100 outline-none focus:border-brand-500/50 focus:ring-2 focus:ring-brand-500/40"
        >
          <option value="0-30">0-30</option>
          <option value="31-100">31-100</option>
          <option value="101-300">101-300</option>
          <option value="300+">300+</option>
        </select>
      </div>
    </div>
    <div>
      <label class="block text-sm text-neutral-300">Tempo médio de resposta atual*</label>
      <select
        required
        name="avgResponseTime"
        class="mt-2 w-full rounded-lg border border-neutral-800 bg-surface-900/60 px-3 py-2 text-sm text-neutral-100 outline-none focus:border-brand-500/50 focus:ring-2 focus:ring-brand-500/40"
      >
        <option value="<10m">Menos de 10 minutos</option>
        <option value="10-60m">10-60 minutos</option>
        <option value="1-6h">1-6 horas</option>
        <option value="6-24h">6-24 horas</option>
        <option value=">24h">Mais de 24 horas</option>
      </select>
    </div>
    <input type="hidden" name="redirect" value="/obrigado" />
    <div class="flex flex-col-reverse items-stretch justify-between gap-4 sm:flex-row sm:items-center">
      <p class="text-xs text-neutral-500">Ao enviar, você concorda com nossa Política de Privacidade.</p>
      <button
        type="submit"
        class="inline-flex items-center justify-center rounded-lg bg-gradient-to-r from-brand-500 to-brand-400 px-6 py-3 text-sm font-medium text-surface-950 shadow transition hover:from-brand-400 hover:to-brand-300 focus:outline-none focus-visible:ring-2 focus-visible:ring-brand-400"
      >SOLICITAR ANÁLISE GRATUITA</button>
    </div>
  </form>
  <div class="mx-auto mt-6 max-w-2xl text-center">
    <p class="text-sm text-neutral-400">
      Prefere agendar direto?
      <a href={calUrl} target="_blank" rel="noopener" class="text-brand-400 transition hover:text-brand-300">
        Marque um horário no Cal.com
      </a>
    </p>
  </div>
</section>
