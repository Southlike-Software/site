---
const calUrl = import.meta.env.PUBLIC_CAL_URL || "https://cal.com/southlike";
const links = [
  { label: "Serviços", href: "/servicos" },
  { label: "Imobiliárias", href: "/automacao-para-imobiliarias" },
  { label: "Blog", href: "/blog" },
  { label: "Sobre", href: "/sobre" },
];
---

<header class="fixed inset-x-0 top-0 z-50 border-b border-neutral-800/50 bg-surface-950/80 backdrop-blur-lg">
  <nav class="mx-auto flex max-w-7xl items-center justify-between px-6 py-3 lg:px-8">
    <a href="/" class="flex items-center gap-2">
      <img src="/southlike-logo.svg" alt="Southlike" class="h-7 w-7 brightness-0 invert" />
      <span class="font-heading text-lg font-semibold tracking-tight text-white">Southlike</span>
    </a>

    <!-- Desktop links -->
    <div class="hidden items-center gap-6 md:flex">
      {links.map((link) => (
        <a href={link.href} class="text-sm text-neutral-300 transition hover:text-white">
          {link.label}
        </a>
      ))}
      <a
        href={calUrl}
        target="_blank"
        rel="noopener"
        class="inline-flex items-center rounded-lg bg-gradient-to-r from-brand-500 to-brand-400 px-4 py-2 text-sm font-medium text-surface-950 transition hover:from-brand-400 hover:to-brand-300"
        onclick="posthog?.capture('cta_click', { location: 'navbar', cta: 'agendar' })"
      >
        Agendar Consulta
      </a>
    </div>

    <!-- Mobile hamburger -->
    <button
      type="button"
      class="inline-flex h-10 w-10 items-center justify-center rounded-lg text-neutral-300 hover:text-white md:hidden"
      aria-label="Menu"
      data-mobile-menu-toggle
    >
      <svg class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
        <path stroke-linecap="round" stroke-linejoin="round" d="M4 6h16M4 12h16M4 18h16" />
      </svg>
    </button>
  </nav>

  <!-- Mobile menu -->
  <div class="hidden border-t border-neutral-800/50 bg-surface-950/95 backdrop-blur-lg md:hidden" data-mobile-menu>
    <div class="space-y-1 px-6 py-4">
      {links.map((link) => (
        <a href={link.href} class="block rounded-lg px-3 py-2 text-sm text-neutral-300 transition hover:bg-surface-800 hover:text-white">
          {link.label}
        </a>
      ))}
      <a
        href={calUrl}
        target="_blank"
        rel="noopener"
        class="mt-3 block rounded-lg bg-gradient-to-r from-brand-500 to-brand-400 px-4 py-2.5 text-center text-sm font-medium text-surface-950"
      >
        Agendar Consulta
      </a>
    </div>
  </div>
</header>

<script>
  const toggle = document.querySelector("[data-mobile-menu-toggle]");
  const menu = document.querySelector("[data-mobile-menu]");
  if (toggle && menu) {
    toggle.addEventListener("click", () => menu.classList.toggle("hidden"));
  }
</script>
